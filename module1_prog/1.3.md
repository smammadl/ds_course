# 1.3: Advanced Data Structures and Functions

## Dictionaries

A dictionary is an ordered (previously unordered until Python 3.7) collection of data stored in key-value pairs. Dictionaries are mutable, and each key must be unique.

### Creating Dictionaries

You create a dictionary using curly braces `{}` with keys and values separated by a colon `:`.

```python
person = {
    "key1": "value1",
    "key2": "value2",
    "key3": "value3",
}
```

**Example**:
```python
# A dictionary representing a person
person = {
    "name": "Alice",
    "age": 25,
    "city": "New York"
}
```

### Accessing Values

You access the value associated with a key using square brackets `[]`.

```python
print(person["name"])  # Output: Alice
print(person["age"])   # Output: 25
```

### Modifying Dictionaries

*   **Changing a value:**
    ```python
    person["age"] = 26
    print(person) # Output: {'name': 'Alice', 'age': 26, 'city': 'New York'}

    person["age"] = person["age"] + 1
    print(person) # Output: {'name': 'Alice', 'age': 27, 'city': 'New York'}
    ```
*   **Adding a new key-value pair:**
    ```python
    person["occupation"] = "Engineer"
    print(person) # Output: {'name': 'Alice', 'age': 26, 'city': 'New York', 'occupation': 'Engineer'}
    ```
*   **Removing a key-value pair:**
    ```python
    del person["city"]
    print(person) # Output: {'name': 'Alice', 'age': 26, 'occupation': 'Engineer'}
    ```

### More complex dictionaries

You can create a dictionary with a dictionary as a value.

```python
company = {
    "names": ["Alice", "Bob", "Charlie"],
    "ages": [25, 30, 35],
    "addresses": {
        "Alice": {"city": "New York", "state": "NY"},
        "Bob": {"city": "Los Angeles", "state": "CA"},
        "Charlie": {"city": "Chicago", "state": "IL"}
    }
}

print(company["names"][0]) # Output: Alice
print(company["addresses"]["Alice"]["city"]) # Output: New York
```

### Operations on Dictionaries

*   **Getting all keys:**
    ```python
    print(person.keys()) 
    ```
*   **Getting all values:**
    ```python
    print(person.values()) 
    ```
*   **Getting all key-value pairs:**
    ```python
    print(person.items()) 
    ```
*   **Checking if a key exists:**
    ```python
    print("name" in person) # Output: True
    ```
*   **Checking if a value exists:**
    ```python
    print("Alice" in person.values()) # Output: True
    ```
*   **Getting the value of a key with a default value:**
    ```python
    print(person.get("height", "Unknown")) # Output: Unknown
    ```

## Sets

A set is an unordered and unindexed collection of **unique** items. Sets are mutable.

### Creating Sets

You can create a set using the `set()` function
```python
numbers = set(1, 2, 2, 3, 4, 4, 5)
print(unique_numbers)  # Output: {1, 2, 3, 4, 5}
```

> **Note:** Sets are defined using curly braces `{}` similar to dictionaries, but without key-value pairs.

You can also create a set from an existing list,
```python
numbers = [1, 2, 2, 3, 4, 4, 5]
unique_numbers = set(numbers)
print(unique_numbers)  # Output: {1, 2, 3, 4, 5}
```

> **Note:** Sets are unordered, so you cannot access items by index.

You can add items to a set using the `add()` method.

```python
numbers.add(6)
print(numbers)  # Output: {1, 2, 3, 4, 5, 6}
```

### Set Operations

Sets are useful for performing mathematical set operations.

```python
set_a = {1, 2, 3, 4}
set_b = {3, 4, 5, 6}

# Union: items present in either set
print(set_a.union(set_b))  # Output: {1, 2, 3, 4, 5, 6}

# Intersection: items present in both sets
print(set_a.intersection(set_b))  # Output: {3, 4}

# Difference: items in set_a but not in set_b
print(set_a.difference(set_b))  # Output: {1, 2}
```

## Introduction to Functions

A function is a reusable block of code that performs a specific task. Functions help organize your code, make it more readable, and avoid repetition.

### Writing and Calling Functions

You define a function using the `def` keyword, followed by the function name, parentheses `()`, and a colon `:`.

```python
# Define a function
def greet():
    print("Hello, welcome to the course!")

# Call the function
greet()
```

## Function Arguments

Arguments are used to pass information into functions.

```python
def greet_user(name):
    print(f"Hello, {name}!")

greet_user("Bob")
```

### Positional Arguments

These are arguments that need to be in the proper order.

```python
def greet_user(name, course):
    print(f"Hello, {name}! Welcome to the {course} course.")

greet_user("Bob", "Python for Data Science")
```

### Keyword Arguments

You can also pass arguments using the name of the parameter.

```python
greet_user(course="Data Analysis", name="Charlie")
```

Keyword arguments provide a default value for an argument. This makes the argument optional when calling the function.

```python
def greet_user_default(name, course="Python for Data Science"):
    print(f"Hello, {name}! Welcome to the {course} course.")

greet_user_default("David")
greet_user_default("Eve", course="Advanced Python")
```

**Note:** Default arguments must be placed after all required arguments.
```python
def greet_user_default(arg1, arg2, arg3="default", arg4="default"):
    pass

greet_user_default()
```

### Using return statement

The `return` statement is used to return a value from a function (which can later be used in other parts of the code), unlike `print` which prints the value to the console (which cannot be used in other parts of the code). Compare the following two examples:

```python
# print example
def add_print(a, b):
    print(a + b)

x = add_print(1, 2) # x is None

def add_return(a, b):
    return a + b

x = add_return(1, 2) # x is 3
```

The function exits after the `return` statement is executed. Any code after the `return` statement is not executed.
```python
def add_return(a, b):
    return a + b
    print("This will not be executed")

x = add_return(1, 2) # x is 3
```

### Adding logic to functions

You can add logic to functions to perform more complex tasks.
```python
def check_even(number):
    if number % 2 == 0:
        return True
    else:
        return False

print(check_even(2)) # Output: True
print(check_even(3)) # Output: False
```

You can also use loops to iterate over a list of numbers and check if they are even.
```python
def check_even_list(numbers):
    for number in numbers:
        if number % 2 != 0:
            return False
        else:
            pass
    return True

print(check_even_list([2, 4, 6, 8])) # Output: True
print(check_even_list([2, 4, 6, 7])) # Output: False
```

You can create custom functions to perform tasks you need, for example:
```python
# built-in length function
len("Hello") # Output: 5

# custom length function
def length(string):
    count = 0
    for char in string:
        count += 1
    return count
print(length("Hello")) # Output: 5
```

## Scope of Variables

*   **Local Scope:** A variable created inside a function is only available within that function.
*   **Global Scope:** A variable created in the main body of the Python code is a global variable and belongs to the global scope, which is available to all functions.

```python
global_var = "I am global"

def my_function():
    local_var = "I am local"
    print(local_var)
    print(global_var) # Can access global variables

my_function()
# print(local_var) # This would cause an error
```

**Example:**
```python
x = 1000
y = 2000
def my_function(y = 10):
    x = 20
    print(x) # Output: 20
    print(y) # Output: 10
my_function()
print(x) # Output: 1000
print(y) # Output: 2000
```

To access the global variable inside a function, you can use the `global` keyword.
```python
x = 1000
def my_function():
    global x
    x = 20
    print(x) # Output: 20
my_function()
print(x) # Output: 20
```

**Example:**
```python
name = "Bob"

def greet():
    name = "Alice"

    def hello():
        print(f"Hello, {name}!")

    hello()

greet() # Output: Hello, Alice!
```

<!-- ## Basic Data Transformation

Using functions to transform data is a core concept in data science.

### Example: Converting Temperatures

Let's create a function to convert a list of temperatures from Celsius to Fahrenheit.

```python
def celsius_to_fahrenheit(celsius_temps):
    """Converts a list of Celsius temperatures to Fahrenheit."""
    fahrenheit_temps = []
    for temp in celsius_temps:
        fahrenheit = (temp * 9/5) + 32
        fahrenheit_temps.append(fahrenheit)
    return fahrenheit_temps

celsius_temperatures = [0, 10, 25, 30]
fahrenheit_results = celsius_to_fahrenheit(celsius_temperatures)

print(fahrenheit_results) # Output: [32.0, 50.0, 77.0, 86.0]
```

This function takes a list of data, transforms it, and returns a new list, which is a common pattern in data analysis workflows. -->